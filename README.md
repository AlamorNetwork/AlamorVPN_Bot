# 🚀 ربات فروش VPN Alamor: اتوماسیون کامل کسب‌وکار شما

AlamorVPN Bot یک ربات تلگرامی قدرتمند و ماژولار است که برای فروشندگان و مدیران سرویس‌های VPN (مبتنی بر پنل‌های X-UI/3X-UI) طراحی شده است. این ربات با اتوماسیون کامل فرآیندهای مدیریت سرور، فروش اشتراک، پردازش پرداخت و تحویل آنی کانفیگ، به شما کمک می‌کند تا کسب‌وکار خود را به سادگی و از طریق یک رابط کاربری بصری در تلگرام مدیریت کنید.

نکته: هر گونه سوال و پیشنهاد و انتقاد و یا باگی پیدا کردین توی چنل خودم به ادرس :
https://t.me/Alamor_Network
داخل کامنت های چنل و یا گروه اصلی چنل ارسال کنید. 

## ✨ قابلیت‌های کلیدی (فاز ۱)

این ربات دارای دو پنل مجزا برای کاربران و مدیران است:

### 👤 پنل کاربری
- **خرید آسان و چندمرحله‌ای:** انتخاب سرور، نوع پلن (ثابت یا گیگابایتی) و مشاهده خلاصه دقیق سفارش.
- **پرداخت و تحویل آنی:** ارسال رسید پرداخت و دریافت خودکار سرویس پس از تأیید ادمین.
- **دریافت آنی کانفیگ:** دریافت **لینک سابسکریپشن** به همراه **QR کد** برای اتصال آسان.
- **سرویس‌های من:** مشاهده لیست تمام سرویس‌های خریداری شده و دریافت مجدد اطلاعات کانفیگ.
- **اکانت تست رایگان:** قابلیت دریافت اکانت تست با یک کلیک (۱۰۰ مگابایت حجم، ۲۴ ساعت زمان).

### 💼 پنل مدیریت (ادمین)
- **مدیریت کامل سرورها:** افزودن، حذف، لیست کردن و تست آنلاین بودن سرورهای X-UI.
- **مدیریت هوشمند اینباندها:** انتخاب اینباندهای فعال برای ساخت کانفیگ از طریق یک منوی چندانتخابی.
- **مدیریت پیشرفته پلن‌ها:** افزودن پلن‌های ثابت (حجم و زمان مشخص) و گیگابایتی با قابلیت تعیین محدودیت زمانی.
- **مدیریت درگاه‌های پرداخت:** افزودن و مدیریت اطلاعات کارت‌های بانکی برای پرداخت کاربران.
- **سیستم تأیید پرداخت:** دریافت نوتیفیکیشن پرداخت‌ها و تأیید یا رد آنها با یک کلیک.

---

## ⚙️ نصب و راه‌اندازی قدم به قدم

برای راه‌اندازی این ربات روی سیستم خود، مراحل زیر را با دقت دنبال کنید.

### ۱. آماده‌سازی اولیه
ابتدا پروژه را از گیت‌هاب دانلود کرده و وارد پوشه آن شوید:
```bash
git clone https://github.com/AlamorNetwork/AlamorVPN_Bot.git
cd AlamorVPN_Bot
```
سپس با این دستور محیط مجازی رو نصب کنید در لینوکس 
```bash
apt install python3.10-venv
```
با این دستور pip رو نصب کنید
```bash
apt install python3-pip
```
### ۲. ساخت و فعال‌سازی محیط مجازی (Virtual Environment)
استفاده از محیط مجازی به شدت توصیه می‌شود تا کتابخانه‌های این پروژه با سایر پروژه‌های شما تداخل نداشته باشند.
```bash
# ساخت محیط مجازی
python3 -m venv .venv

# فعال‌سازی در ویندوز
.venv\Scripts\activate

# فعال‌سازی در لینوکس و مک
source .venv/bin/activate
```

### ۳. نصب کتابخانه‌های مورد نیاز
دستور زیر تمام پکیج‌های لازم را از روی فایل `requirements.txt` نصب می‌کند:
```bash
pip install -r requirements.txt
```

### ۴. پیکربندی متغیرهای محیطی
این مهم‌ترین مرحله است. شما باید اطلاعات حساس ربات خود را در یک فایل به نام `.env` ذخیره کنید.

- ابتدا از فایل نمونه یک کپی بسازید:
    ```bash
    # در ویندوز
    copy .env.example .env

    # در لینوکس و مک
    cp .env.example .env
    ```
    سپس یک کد رمزنگاری قوی با این دستور بسازید.
  ```bash
  python3 code-generate.py
  ```
- سپس فایل `.env` را با این دستور:
```bash
nano .env
```
-   باز کرده و مقادیر آن را با اطلاعات خودتان جایگزین کنید:

    - **`BOT_TOKEN_ALAMOR`**: توکن ربات تلگرام خود را که از **BotFather** دریافت کرده‌اید، اینجا قرار دهید.
    - **`ADMIN_IDS_ALAMOR`**: آیدی عددی حساب تلگرام خودتان را به عنوان ادمین وارد کنید. (برای یافتن آیدی خود به ربات @userinfobot پیام دهید). مثال: `[123456789]`
    - **`ENCRYPTION_KEY_ALAMOR`**: این یک کلید برای رمزنگاری اطلاعات حساس است. برای ساخت یک کلید جدید، دستور زیر را در ترمینال اجرا کرده و خروجی را در فایل `.env` کپی کنید:
        

### ۵. اجرای ربات
پس از انجام تمام مراحل بالا، با دستور زیر ربات را اجرا کنید:
```bash
python3 main.py
```
ربات شما اکنون آنلاین و آماده استفاده است!
نکته : برا یران شدن ابدی ربات در سرور ( اگر ریست شد سرور قطع نشه بات ) از دستور زیر استفاده کنید 
```bash
sudo nano /etc/systemd/system/alamorbot.service
```
و این کد هارو داخل این فایل قرار بدین :
```bash
[Unit]
Description=Alamor VPN Telegram Bot
After=network.target

[Service]
# نام کاربری که ربات با آن اجرا می‌شود (اگر کاربر خاصی نساخته‌اید، می‌توانید root قرار دهید)
User=root

# مسیر کامل پوشه پروژه شما
WorkingDirectory=/root/AlamorVPN_Bot

# دستور کامل برای اجرای ربات با استفاده از پایتونِ محیط مجازی
ExecStart=/root/AlamorVPN_Bot/.venv/bin/python3 /root/AlamorVPN_Bot/main.py

# راه‌اندازی مجدد خودکار در صورت بروز خطا
Restart=on-failure
RestartSec=10s

[Install]
WantedBy=multi-user.target

```
نکته : اگر داخل پوشه روت نریختین ربات رو به جای ادرس : /root/AlamorVPN_Bot/ ادرس دایکتوری خودتون رو بدین و اگر از یوزر دیگه ای غیر از روت ایتفاده میکنین User=root رو به یوزر خودتون تغییر بدین.

۳. مدیریت سرویس
حالا با دستورات systemctl سرویس خود را مدیریت کنید:

بارگذاری مجدد سرویس‌ها:

```bash
sudo systemctl daemon-reload
```
فعال‌سازی سرویس برای اجرای خودکار پس از بوت شدن سرور:

```bash
sudo systemctl enable alamorbot.service
```
اجرای آنی سرویس:

```bash
sudo systemctl start alamorbot.service
```
بررسی وضعیت سرویس:

```bash
sudo systemctl status alamorbot.service
```
مشاهده لاگ‌های زنده ربات:

```bash
sudo journalctl -u alamorbot.service -f
```
ربات شما اکنون به عنوان یک سرویس دائمی در حال اجراست.
---

کانفیگ سرورها داخل ربات :
مرحله 1: 
نکته: پنل پشتیبانی شده فعلا فقط 3X-UI اقای سنایی هست.
از منوی ادمین داخل ربات > زیر منوی مدیریت سرور > اضافه کردن سرور میتوانید اقدام به اضافه کردن پنل خود به ربات کنید
نکته : برای ارسال لینک پنل برای ربات به هیچ عنوان / بعد از PATH نزارین مثال : 
```bash
https://yore.domain.com:PORT/PATH
```
سپس یوزر نیم و سپس پسورد ورود به پنل را ارسال کنید.
نکته : برای استفاده از ربات باید حتما لینک ساب فعال باشه داخل پنل ( قابلیت بدون لینک ساب هم اضافه خواهد شد ) 

برای ارسال لینک ساب به ربات ابتدا ادرس رو تا PORT ارسال میکنید مثال :
```bash
https://yore.domain.com:PORTSUBLINK
```

سپس PATH ساب لینک رو ارسال میکنید در حالت عادی و دیفالت پنل سنایی PATH : sub هست .
تمام !!! سرور شما اضافه شد و از لیست سرور میتونین ببنین سرور هارو .

مرحله 2:
انتخاب اینباند هایی که میخواهید ازشون به کاربر کانفیگ ارسال بشه :
از زیر منوی مدیریت اینباند در منوی مدیریت سرور میتونین انتخاب کنید . برای این کار بعد از انختخاب دکمه مدیریت اینباند ها ID سرور نمایش داده شده که میخواهید مدیریت کنید رو بهش میدین و از بین اینباند ها انتخاب میکنین کدوم اینباند و سپس ثبت تغییرات .

مرحله 3:
ساخت درگاه و پلن :
برای درگاه از منوی مدیریت درگاه ها به سادی با سوالات ربات میتونین درگاه رو اضافه کنید.
نکته : فعلا فقط درگاه کارت به کارت داریم 
برای پلن هم میتونین هم پلن ماهانه و ثابت و هم پلن گیگی بسازین ( ساخت کلاینت با حجم متغیر توسط کاربر بر اساس قیمت فروش هر گیگ توسط شما )

بعد از تمام این مراحل ربات شما اماده فروش و خدمت رسانی هست . تبریک میگم بهتون 
## 🔮 قابلیت‌های آینده (فاز ۲)

- کیف پول داخلی برای کاربران و سیستم شارژ حساب.
- سیستم تمدید خودکار سرویس.
- داشبورد آماری و گزارش‌گیری برای ادمین.
- مدیریت پیشرفته کاربران (فعال/غیرفعال کردن، ریست حجم و...).
- اتصال به درگاه‌های پرداخت آنلاین.


به امید ازادی و روزی که هیچ ایرانی از فیلترشکن استفاده نکنه
